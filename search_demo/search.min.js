var params={count_rooms:{name:"count_rooms",title:"Количество комнат",type:"checkbox",value:["1","2","3","4","4+"]},count_rooms_num:{name:"count_rooms_num",title:"Количество комнат",type:"from-to"},area_only:{name:"area_only",title:"Площадь",type:"from-to"},area_residential:{name:"area_residential",title:"Площадь жилая",type:"from-to"},area_non_residential:{name:"area_non_residential",title:"Площадь нежилая",type:"from-to"},area_general:{name:"area_general",title:"Площадь общая",type:"from-to"},area_balcony:{name:"area_balcony",title:"Площадь балкон",type:"from-to"},height_ceiling:{name:"height_ceiling",title:"Высота потолков",type:"from-to"},floor:{name:"floor",title:"Этаж",type:"from-to"},bathroom:{name:"bathroom",title:"Санузел",type:"checkbox",value:["Совмещенный","Раздельный","Не важно"]},rooms:{name:"rooms",title:"Комнаты",type:"checkbox",value:["Спальня","Кухня","Гостиная","Прихожая","Детская","Рабочий кабинет","Столовая","Ванная"]},equipment:{name:"equipment",title:"Комплектация",type:"checkbox",value:["Укомплектована","Пустая"]},decoration:{name:"decoration",title:"Отделка",type:"checkbox",value:["Эксклюзивного качества","Высококачественная отделка","Хорошая отделка","Требуется косметический ремонт","Требуется ремонт","Незавершенный ремонт","Без ремонта"]},count_floors:{name:"count_floors",title:"Количество этажей",type:"from-to"},lift:{name:"lift",title:"Наличие лифта",type:"checkbox",value:["Грузовой","Пассажирский","Не важно","Без лифта"]},garbage:{name:"garbage",title:"Наличие мусоропровода",type:"checkbox",value:["Да"]},object_type:{name:"object_type",title:"Уточнение вида объекта",type:"checkbox",value:["Новостройка","Незавершенное строительство","Участок с подрядом","Собственность менее 5 лет","Собственность более 5 лет"]},object_type_plot:{name:"object_type_plot",title:"Уточнение вида объекта",type:"checkbox",value:["Собственность менее 5 лет","Собственность более 5 лет","Сельскохозяйственные земли","Земли под размещение промышленных и коммерческих объектов"]},year_building:{name:"year_building",title:"Год постройки/окончания строительства",type:"from-to"},hc_services:{name:"hc_services",title:"Жилищно-коммунальные услуги",type:"checkbox",value:["Отопление","Газ","Электричество","Водопровод"]},hc_services_nr:{name:"hc_services_nr",title:"Жилищно-коммунальные услуги",type:"checkbox",value:["Элетричество","Водопровод и канализация","Наличие санузлов"]},parking:{name:"parking",title:"Парковка",type:"checkbox",value:["Многоуровневый парикнг","Подземная парковка","Гаражный комплекс","Придомовый гараж","Муниципальная платная","Муниципальная бесплатная","Отсутствует","Не важно"]},wall_material:{name:"wall_material",title:"Материал стен (список)",type:"checkbox",value:["Кирпич","Монолит","Железобетонные панели","Другое"]},state_stairs:{name:"state_stairs",title:"Состояние лестничных клеток (список)",type:"checkbox",value:["Высококачественная отделка","Обычная отделка","Требуется косметический ремонт","Требуется ремонт","Без ремонта"]},security:{name:"security",title:"Безопасность",type:"checkbox",value:["Консьерж","Охрана","Домофон","Видеонаблюдение","Сигнализация"]},roofing:{name:"roofing",title:"Кровля",type:"checkbox",value:["Железо","Медь","Металлочерепица","Бескобетонная черепица","Черепица","Солома","Камень","Шифер","Ондулин","Временная"]},foundation:{name:"foundation",title:"Фундамент",type:"checkbox",value:["Монолитная плета","Шведская плита","Ленточный","Ростверк","Без фундамента"]},wall_material_house:{name:"wall_material_house",title:"Материал стен",type:"checkbox",value:["Кирпич","Железобетон","Пеноблок","Газосиликатные блоки","Шлакоблоки","Рубленное дерево","Лафет","Оцилиндрованное бревно","Профилированный брус","Клеенный брус","Фахтверк"]},type_house:{name:"type_house",title:"Тип дома",type:"checkbox",value:["Дуплекс","Таунхаус","Коттедж"]},view_buildings:{name:"view_buildings",title:"Вид постройки",type:"checkbox",value:["Опен спейс","Комнаты"]},type_buildings:{name:"type_buildings",title:"Тип здания",type:"checkbox",value:["Административное","Жилое"]},add_buildings:{name:"add_buildings",title:"Дополнительные строения",type:"checkbox",value:["Беседка","Сарай","Винный погреб","Детская площадка","Бассейн","Баня","Гостевой дом","Сторожка"]},plot:{name:"plot",title:"Участок",type:"checkbox",value:["Ровный","Неровный","На склоне","Овраг","Заболоченный"]},on_plot:{name:"on_plot",title:"На участке",type:"checkbox",value:["Лесные деревья","Садовые деревья","Родник","Река","Берег водоема"]},guardrail:{name:"guardrail",title:"Ограждение",type:"checkbox",value:["Пластик","Дерево","Профнастил","Камень","Бетон","Кирпич","Металлические прутья","Кованная ограда"]},hosted:{name:"hosted",title:"Объект размещен",type:"checkbox",value:["Собственником","Риэлтором","Не важно"]},documens:{name:"documents",title:"Документы",type:"checkbox",value:["Документы на право владения","Договор аренды","Документы на собственность"]},project:{name:"project",title:"Проект планировки",type:"checkbox",value:["Прилагается"]},project3d:{name:"project3d",title:"3D проект (выбор пользователя)",type:"checkbox",value:["Прилагается"]},video:{name:"video",title:"Видео",type:"checkbox",value:["Прилагается"]}},aaaa={asdsdad:{title:"title",type:"checkbox",value:["value","value","value"]},asdsdad:{},asdsdad:{},asdsdad:{},asdsdad:{},asdsdad:{},asdsdad:{},asdsdad:{}},data_all=[1,2,3,4,5,6,7,8,9,10,11,12,13,14];data_all[1]=[],data_all[1].push({title:"Исходные параметры квартиры",data:[params.count_rooms,params.area_residential,params.area_non_residential,params.area_general,params.area_balcony,params.height_ceiling,params.floor,params.bathroom,params.hosted]}),data_all[1].push({title:"Ремонт и обустройство квартиры",data:[params.rooms,params.equipment,params.decoration]}),data_all[1].push({title:"Характеристики дома",data:[params.count_floors,params.lift,params.garbage,params.object_type,params.year_building,params.hc_services,params.parking,params.wall_material,params.state_stairs,params.security]}),data_all[1].push({title:"Вложения",data:[params.project,params.project3d,params.video]}),data_all[2]=[],data_all[2].push({title:"Исходные параметры квартиры",data:[params.count_rooms,params.area_residential,params.area_non_residential,params.area_general,params.area_balcony,params.height_ceiling,params.floor,params.bathroom,params.hosted]}),data_all[2].push({title:"Ремонт и обустройство квартиры",data:[params.rooms,params.equipment,params.decoration]}),data_all[2].push({title:"Характеристики дома",data:[params.count_floors,params.lift,params.garbage,params.object_type,params.year_building,params.hc_services,params.parking,params.wall_material,params.state_stairs,params.security]}),data_all[2].push({title:"Вложения",data:[params.project,params.project3d,params.video]}),data_all[3]=[],data_all[3].push({title:"Параметры объекта",data:[params.count_rooms,params.count_floors,params.area_residential,params.area_non_residential,params.area_general,params.area_balcony,params.height_ceiling,params.bathroom,params.roofing,params.foundation,params.wall_material_house,params.type_house,params.hosted]}),data_all[3].push({title:"Ремонт и обустройство",data:[params.rooms,params.equipment,params.decoration,params.object_type,params.year_building,params.hc_services,params.security]}),data_all[3].push({title:"Участок",data:[params.parking,params.add_buildings,params.plot,params.on_plot,params.guardrail]}),data_all[3].push({title:"Вложения",data:[params.project,params.project3d,params.video]}),data_all[4]=[],data_all[4].push({title:"Основное",data:[params.area_only,params.height_ceiling,params.count_floors,params.security,params.year_building,params.object_type,params.guardrail]}),data_all[4].push({title:"Дополнительно",data:[params.roofing,params.foundation,params.wall_material_house]}),data_all[4].push({title:"Объект размещен",data:[params.hosted]}),data_all[4].push({title:"Вложения",data:[params.project,params.project3d,params.video]}),data_all[5]=[],data_all[5].push({title:"Основные параметры",data:[params.area_only,params.object_type_plot,params.plot,params.on_plot]}),data_all[5].push({title:"Обустройство",data:[params.hc_services,params.parking,params.add_buildings,params.guardrail,params.security]}),data_all[5].push({title:"Объект размещен",data:[params.hosted]}),data_all[5].push({title:"Вложения",data:[params.project,params.project3d,params.video]}),data_all[8]=[],data_all[8].push({title:"Исходные параметры",data:[params.area_only,params.height_ceiling,params.count_floors,params.view_buildings,params.count_rooms_num,params.year_building,params.type_buildings,params.wall_material_house,params.roofing,params.foundation,params.hosted]}),data_all[8].push({title:"Ремонт и обустройство",data:[params.decoration,params.hc_services_nr,params.parking,params.guardrail,params.security]}),data_all[8].push({title:"Документы",data:[params.documens]}),data_all[8].push({title:"Вложения",data:[params.project,params.project3d,params.video]}),data_all[9]=[],data_all[9].push({title:"Исходные параметры",data:[params.area_only,params.height_ceiling,params.count_floors,params.view_buildings,params.count_rooms_num,params.year_building,params.type_buildings,params.wall_material_house,params.roofing,params.foundation,params.hosted]}),data_all[9].push({title:"Ремонт и обустройство",data:[params.decoration,params.hc_services_nr,params.parking,params.guardrail,params.security]}),data_all[9].push({title:"Документы",data:[params.documens]}),data_all[9].push({title:"Вложения",data:[params.project,params.project3d,params.video]}),data_all[10]=[],data_all[10].push({title:"Исходные параметры",data:[params.area_only,params.height_ceiling,params.count_floors,params.view_buildings,params.count_rooms_num,params.year_building,params.type_buildings,params.wall_material_house,params.roofing,params.foundation,params.hosted]}),data_all[10].push({title:"Ремонт и обустройство",data:[params.decoration,params.hc_services_nr,params.parking,params.guardrail,params.security]}),data_all[10].push({title:"Документы",data:[params.documens]}),data_all[10].push({title:"Вложения",data:[params.project,params.project3d,params.video]}),data_all[11]=[],data_all[11].push({title:"Исходные параметры",data:[params.area_only,params.height_ceiling,params.count_floors,params.view_buildings,params.count_rooms_num,params.year_building,params.type_buildings,params.wall_material_house,params.roofing,params.foundation,params.hosted]}),data_all[11].push({title:"Ремонт и обустройство",data:[params.decoration,params.hc_services_nr,params.parking,params.guardrail,params.security]}),data_all[11].push({title:"Документы",data:[params.documens]}),data_all[11].push({title:"Вложения",data:[params.project,params.project3d,params.video]}),data_all[12]=[],data_all[12].push({title:"Исходные параметры",data:[params.area_only,params.height_ceiling,params.count_floors,params.view_buildings,params.count_rooms_num,params.year_building,params.type_buildings,params.wall_material_house,params.roofing,params.foundation,params.hosted]}),data_all[12].push({title:"Ремонт и обустройство",data:[params.decoration,params.hc_services_nr,params.parking,params.guardrail,params.security]}),data_all[12].push({title:"Документы",data:[params.documens]}),data_all[12].push({title:"Вложения",data:[params.project,params.project3d,params.video]}),data_all[13]=[],data_all[13].push({title:"Исходные параметры",data:[params.area_only,params.height_ceiling,params.count_floors,params.view_buildings,params.count_rooms_num,params.year_building,params.type_buildings,params.wall_material_house,params.roofing,params.foundation,params.hosted]}),data_all[13].push({title:"Ремонт и обустройство",data:[params.decoration,params.hc_services_nr,params.parking,params.guardrail,params.security]}),data_all[13].push({title:"Документы",data:[params.documens]}),data_all[13].push({title:"Вложения",data:[params.project,params.project3d,params.video]}),data_all[14]=[],data_all[14].push({title:"Исходные параметры",data:[params.area_only,params.height_ceiling,params.count_floors,params.view_buildings,params.count_rooms_num,params.year_building,params.type_buildings,params.wall_material_house,params.roofing,params.foundation,params.hosted]}),data_all[14].push({title:"Ремонт и обустройство",data:[params.decoration,params.hc_services_nr,params.parking,params.guardrail,params.security]}),data_all[14].push({title:"Документы",data:[params.documens]}),data_all[14].push({title:"Вложения",data:[params.project,params.project3d,params.video]});var max="?";$.each(params,function(a,e){max+=a+"=10&"}),console.log(max),$(".search-main select[name=type]").change(function(){if(data_all[$(this).val()]){var a=data_all[$(this).val()];if("object"==typeof a){$(".search-more").html("");var e=$("<div>").addClass("search-block").appendTo(".search-more");$("<p>").html("<b>Найдено 13 245 объектов</b> Заполните данные ниже, для более точного поиска").appendTo(e);var e=$("<div>").addClass("search-flex").appendTo(e),t=$("<div>").addClass("search-modals").hide().appendTo(".search-more");$.each(a,function(a,r){if(void 0!==r.title&&void 0!==r.data){var s=$("<div>").addClass("search-modal").appendTo(t),l=$("<div>").addClass("search-more-button").addClass("search-flex").click(function(){s.arcticmodal()}).appendTo(e);$("<div>").html(r.title).appendTo(l);var i=($("<div>").addClass("search-modal-title").html(r.title).appendTo(s),$("<div>").addClass("search-modal-body").appendTo(s));$.each(r.data,function(a,e){if("checkbox"==e.type){var t=$("<div>").addClass("search-flex").addClass("search-modal-line").appendTo(i);$("<div>").addClass("search-modal-label").html(e.title).appendTo(t);var r=$("<div>").addClass("search-flex").addClass("search-modal-value").appendTo(t);$("<input>").prop("type","hidden").prop("name",e.name).appendTo(r);var s=$("<select>").data("placeholder","Выберете параметры...").prop("multiple","multiple").appendTo(r);$.each(e.value,function(a,e){$("<option>").val(a).html(e).appendTo(s)}),s.chosen({width:"320px",placeholder_text_multiple:"Выберете параметры..."})}if("from-to"==e.type){var t=$("<div>").addClass("search-flex").addClass("search-modal-line").appendTo(i);$("<div>").addClass("search-modal-label").html(e.title).appendTo(t);var r=$("<div>").addClass("search-flex").addClass("search-modal-value").appendTo(t),l=$("<label>").html("от ").appendTo(r);$("<input>").prop("type","number").prop("name",e.name+"[from]").appendTo(l);var l=$("<label>").html("до ").appendTo(r);$("<input>").prop("type","number").prop("name",e.name+"[to]").appendTo(l)}});var i=$("<div>").addClass("arcticmodal-close").addClass("search-modal-ok").html("Готово").appendTo(i)}})}}}),$.fn.ImageSelect=function(){switch(console.log(arguments[0]),typeof arguments[0]){case"string":switch(arguments[0]){case"getVal":return $(this).first().find(".head").attr("val");case"setVal":console.log("setter");var a=arguments[1];return this.each(function(){var e=$(this),t=e.find('.option[val="'+a+'"] ');e.find(".head").attr("val",t.attr("val")),e.find(".head").html(t.html())});default:return this}break;case"object":;return arguments[0].width&&arguments[0].width,this.each(function(){var a=$(this),e="",t="";a.find("optgroup").length>0?a.find("optgroup").each(function(){var a=$(this);t=" listgroup",e+='<div class="optgroup">',a.find("option").each(function(){var a=$(this);e+='<div class="option" val="'+a.attr("value")+'"  >',void 0!=a.attr("icon")&&(e+='<img src="'+a.attr("icon")+'"  />'),e+="<span>"+a.text()+"</span></div>"}),e+="</div>"}):a.find("option").each(function(){var a=$(this);e+='<div class="option" val="'+a.attr("value")+'"  >',void 0!=a.attr("icon")&&(e+='<img src="'+a.attr("icon")+'"  />'),e+="<span>"+a.text()+"</span></div>"});var r=$('<div class="list'+t+'" >'+e+"</div>"),s=$('<div class="head" val=""></div>');r.find(".option").each(function(){var e=$(this);e.mouseenter(function(){e.find(".normal").hide(),e.find(".hover").show()}).mouseleave(function(){e.find(".normal").show(),e.find(".hover").hide()}).click(function(){e.attr("val");e.find(".normal").show(),e.find(".hover").hide(),s.attr("val",e.attr("val")),a.val(s.attr("val")),a.trigger("change"),s.html(e.html())})}),s.attr("val",r.find(".option").first().attr("val")),a.val(s.attr("val")),s.html(r.find(".option").first().html()),s.addClass("search-flex"),r.find(".option").addClass("search-flex"),r.find(".option[val=0]").remove();var l=$("<div></div>");l.attr("id",a.attr("id")),l.attr("class",a.attr("class")),l.attr("class","select"),a.after(l),l.append(s).append(r),a.hide(),r.hide();var i=!1,o=!1;s.mouseenter(function(){i=!0}).mouseleave(function(){i=!1}).click(function(){if(o)return r.hide(),o=!1,!1}),$(document).click(function(){i?(r.show(),o=!0):(r.hide(),o=!1)})})}},$(function(){console.log("init"),$(".search-main select").ImageSelect({}),$(".search-advanced-button").click(function(){$(".search-wrapper").toggleClass("search-advanced-show")}),$("input[name=tabs]").change(function(){console.log($("input[name=tabs]:checked").val()),1==$("input[name=tabs]:checked").val()?$(".search-term").show():$(".search-term").hide()}),$("#demo-input").tokenInput("https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address",{ajaxHeaders:{Authorization:"Token 0ae4135972ef44bfe9eadfac7eee7b8c821b1c17"},queryDefault:"Москва ",queryParam:"query",dataStringify:!0,method:"POST",contentType:"application/json",crossDomain:!1,jsonContainer:"suggestions",resultsFormatter:function(a){return"<li>"+a.value+"</li>"},tokenFormatter:function(a){return'<li><span class="token-input-title">'+a.value+"</span></li>"},placeholder:"Добавление адреса",hintText:"Введите поисковый запрос",noResultsText:"Нет результатов",searchingText:"поиск...",deleteText:""})});