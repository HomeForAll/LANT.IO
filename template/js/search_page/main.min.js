"use strict";function renderAllApartments(e){var n="",t=$(".result-all-apartments");if(!e)return!1;for(var a=0;a<e.length;a++){var r=$("#entry-template").html();n+=Handlebars.compile(r)(e[a])}t.html(n)}var getSearchParameters=function(){var e=window.location.search.substr(1);return null!==e&&""!==e?function(e){for(var n={},t=e.split("&"),a=0;a<t.length;a++){var r=t[a].split("=");n[r[0]]=r[1]}return n}(e):{}};$(document).ready(function(){$.ajax({method:"POST",url:"api/search",data:getSearchParameters(),success:function(e){console.log("form_data-success",e),renderAllApartments(e)},error:function(e){console.log("form_data - error",e)}})}),$("#form_2").on("submit",function(){var e={};$.ajax({method:"POST",url:"api/search",data:getSearchParameters(),success:function(n){renderAllApartments(n),e+=n}}),$(".open-close-ad").on("click",function(){var n="",t=$("#show-more-information").html(),a=Handlebars.compile(t),r=$(".result-all-apartments");n+=a(e),r.html(n)})}),$(function(){var e=$(".checkbox-4 input:checkbox");$(".checkbox-1 input:checkbox").on("click",function(e){$("#checkbox-price").html("От "+e.target.value)}),$(".checkbox-2 input:checkbox").on("click",function(e){$("#size-apartments").val(e.target.value)}),$(".checkbox-3 input:checkbox").on("click",function(e){$("#checkbox-area").html(e.target.value)}),e.on("change",function(){for(var t=[],a=0;a<e.length;a++){var r=e[a];$(r).prop("checked")&&(t[t.length]=$(r).val())}n(t)});var n=function(e){var n="";0===e.length&&(n="Выбрано (0)");for(var t=0;t<e.length;t++)n="Выбрано ("+e.length+")";$("#checkbox-equipment").html(n)}}),$(function(){var e=$("#amountBeforeMain"),n=$("#amountAfterMain");e.val("0"),n.val("20000"),$("#main-slider").slider({range:!0,min:0,max:2e7,values:[75,2e7],slide:function(t,a){e.val(a.values[0]),n.val(a.values[1])}}),e.slider({values:0}),n.slider({values:1})}),$(function(){setInterval(function(){var e=window.pageYOffset,n=$(".show-hide-header"),t=$(".header"),a=$(".show-and-hide-menu"),r=$(".user");e>500?(n.fadeOut(function(){t.css({background:"none"})}),a.css({display:"block"}),r.css({position:"fixed",top:"inherit",button:"inherit",right:"0"})):(n.fadeIn(function(){t.css({background:"linear-gradient(to top, rgba(255, 255, 255, 0), rgba(0, 0, 0, 0.72)"})}),a.css({display:"none"}),r.css({position:"fixed",bottom:"65px",top:"75px",right:"10px"}))},1e3)});