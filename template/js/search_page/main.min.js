"use strict";function renderAllApartments(e){var o="",t=$(".result-all-apartments");if(!e)return console.log("Данные не полные"),!1;for(var n=0;n<e.length;n++){var s=$("#entry-template").html(),r=Handlebars.compile(s);if(void 0===e[n].preview_img)return;e[n].preview_img=e[n].preview_img.split("|")[0],o+=r(e[n])}t.html(o)}function yandexMap(){var e=$("#address");ymaps.ready(function(){var o=new ymaps.Map("map",{center:[55.76,37.64],zoom:10,controls:["fullscreenControl","typeSelector","geolocationControl","zoomControl"]});e.on("change",function(){ymaps.geocode(e.val()).then(function(e){var t=e.geoObjects.get(0);o.geoObjects.removeAll(),o.geoObjects.add(t);var n=t.properties.get("boundedBy"),s=t.geometry.getCoordinates(),r=t.getCountry(),a=t.getAdministrativeAreas()[0],i=t.getLocalities(),l=t.getThoroughfare(),c=t.getPremiseNumber();o.setBounds(n,{checkZoomRange:!0}),ymaps.geocode(MapController.prototype.coordinates,{kind:"district"}).then(function(e){var o,t;void 0===e.geoObjects.get(0)?o=void 0:(o=e.geoObjects.get(0),t=o.properties.getAll().name);var t=o.properties.getAll().name;if("region"in MapController.options){var n=$(MapController.options.region),s=$("#region");n.text(""),n.text(t),s.val(""),s.val(t)}}),console.log(" --- Начало --- "),console.log("Адрес: "+t.getAddressLine()),console.log("Страна: "+r),console.log("Регион: "+a),console.log("Город: "+i),console.log("Улица: "+l),console.log("Дом №: "+c),console.log("Координаты: "+s),console.log(" --- Конец --- ")})}),window.suggests=new ymaps.SuggestView("address",{width:300,offset:[0,4],results:20})})}$(document).ready(function(){$.ajax({method:"POST",url:"/search",dataType:"Json",success:function(e){renderAllApartments(e)}})}),$("select").styler({selectSearch:!0}),$(function(){var e=$("#amountBeforeMain"),o=$("#amountAfterMain");e.val("0"),o.val("20000"),$("#main-slider").slider({range:!0,min:0,max:2e7,values:[75,2e7],slide:function(t,n){e.val(n.values[0]),o.val(n.values[1])}}),e.slider({values:0}),o.slider({values:1})}),$(function(){setInterval(function(){var e=window.pageYOffset,o=$(".show-hide-header"),t=$(".header"),n=$(".show-and-hide-menu"),s=$(".user");e>500?(o.fadeOut(function(){t.css({background:"none"})}),n.css({display:"block"}),s.css({position:"fixed",top:"inherit",button:"inherit",right:"0"})):(o.fadeIn(function(){t.css({background:"linear-gradient(to top, rgba(255, 255, 255, 0), rgba(0, 0, 0, 0.72)"})}),n.css({display:"none"}),s.css({position:"fixed",bottom:"65px",top:"75px",right:"10px"}))},1e3)}),ymaps.ready(function(){new ymaps.SuggestView("address",{width:300,offset:[0,4],results:20})});