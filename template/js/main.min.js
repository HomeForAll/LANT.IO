"use strict";function formatState(e){var s=$('<span><a class="branch-line"></a>'+e.text+"</span>"),a=s.find("a");return"0"===e.id&&a.css({background:"orange"}),"1"===e.id&&a.css({background:"red"}),"2"===e.id&&a.css({background:"blue"}),"3"===e.id&&a.css({background:"silver"}),"4"===e.id&&a.css({background:"yellowgreen"}),e.id?s:e.text}function choiceBlock(e){if(!rootBlock)return!1;var s=$(".big-search-menu"),a=$(".big-search-menu-tenancy"),o=$("#blockToRent"),t=$("#Buy"),n=$(".search-menu-apartment");"toRent"===e?(o.css({background:"#5e9152"}).find("a").css({color:"#fff"}),t.css({background:"none"}).find("a").css({color:"#898989"}),s.css({display:"block"}),a.css({display:"none"})):(o.css({background:"none"}).find("a").css({color:"#898989"}),t.css({background:"#5e9152"}).find("a").css({color:"#fff"}),n.css({display:"none"}),s.css({display:"none"}),a.css({display:"block"}))}function showBigSearch(){var e=$(".big-search a i"),s=$(".big-search"),a=$(".search-menu-apartment"),o=$(".big-search-menu"),t=$(".big-search-menu-tenancy");return rootBlock=!0,choiceBlock(),a.css({display:"none"}),productSearch=!productSearch,productSearch?(e.remove(),s.html('<i class="fa fa-angle-left" aria-hidden="true"></i><a>Простой поиск</a>'),o.css({display:"block"}),t.css({display:"none"}),a.css({display:"none"}),rootBlock=!0,productSearch=!0):(e.remove(),s.html('<a>Расширенный поиск</a><i class="fa fa-angle-right" aria-hidden="true"></i>'),a.css({display:"block"}),o.css({display:"none"}),t.css({display:"none"}),rootBlock=!1,productSearch=!1)}function showTopMenuAndSearch(){var e=$(".user ul");showAndHideTopMenu=!showAndHideTopMenu,showAndHideTopMenu?(e.css({display:"block"}),showAndHideTopMenu=!0):(e.css({display:"none"}),showAndHideTopMenu=!1)}function filterOptionsApartments(){if(!(showFilter=!showFilter))return!1;blockFilterAndShadow.fadeIn("slow")}function allParam(e){switch(e){case"apartment":var s=$(".apartment-settings");s.css({display:"block"}),$(".closeBlock").on("click",function(e){e.preventDefault(),s.fadeOut("slow")});break;case"houseCharacteristics":var a=$(".house-characteristics");a.css({display:"block"}),$(".closeHouseCharacteristics").on("click",function(e){e.preventDefault(),a.fadeOut("slow")});break;case"apperanceOfTheApartment":var o=$(".appearance-of-the-apartment");o.css({display:"block"}),$(".search").on("click",function(e){e.preventDefault(),o.fadeOut("slow")});break;case"appearanceBuild":var t=$(".appearance-of-the-build");t.css({display:"block"}),$(".closeApparenceBuild").on("click",function(e){e.preventDefault(),t.fadeOut("slow")});break;case"attachment":var n=$(".attachment");n.css({display:"block"}),$(".closeAttachment").on("click",function(e){e.preventDefault(),n.fadeOut("slow")});break;case"document":var i=$(".document");i.css({display:"block"}),$(".closeDocument").on("click",function(e){e.preventDefault(),i.fadeOut("slow")});break;case"bigOption":var r=$(".showBigOptions"),l=$(".decorativeShadowBlock");r.css({display:"block"}),l.css({display:"block"}),$(".closeCurrency").on("click",function(e){e.preventDefault(),r.fadeOut("slow",function(){l.css({display:"none"})})});break;case"map":var c=$("#map");if(!!0)return!1;yandexMap(),$("#searchYandexMap").hide(),c.css({display:"block"}),$(".close-map").on("click",function(e){e.preventDefault(),$("#searchYandexMap").show(),c.fadeOut("slow")});break;case"plotOfLand":var d=$(".plot-of-land");d.css({display:"block"}),$(".close-plot-of-land").on("click",function(e){e.preventDefault(),d.fadeOut("slow")});break;case"repairAndUtilitiesOfTheApartment":var u=$(".repair-and-utilities-of-the-apartment");u.css({display:"block"}),$(".close-repair-and-utilities-of-the-apartment").on("click",function(e){e.preventDefault(),u.fadeOut("slow")});break;case"buildingParametersFilter":var p=$(".building-parameters-filter");p.css({display:"block"}),$(".close-building-parameter").on("click",function(e){e.preventDefault(),p.fadeOut("slow")});break;default:console.log("Параметр не найден")}}function allFilterBlocks(e){switch($(".advanced-search-options").find(".building-parameters-apartment, .building-parameters-home, .building-parameters-room, .building-parameters-office-area,.building-parameters-separate-building, .building-parameters-ozs-сomplex,.test-7, .test-8, .test-9, .test-10, .test-11, .test-12").css({display:"none"}),e){case"searchMetroMainBlock":var s=$(".search-metro-main-block");s.css({display:"block"}),$(".closeSearchMetro").on("click",function(e){e.preventDefault(),s.hide("slow",function(){$(this).css({display:"none"})})});break;case"historySearch":var a=$(".exact-area");a.fadeIn("slow",function(){$(this).css({position:"absolute",height:"435px",width:"85%"})}),setTimeout(function(){a.fadeOut("slow",function(){$(this).css({position:"relative",height:"75px",width:"37%",display:"inline-block"})})},1e4);break;case"1":$(".building-parameters-apartment").css({display:"flex"});break;case"2":$(".building-parameters-home").css({display:"flex"});break;case"3":$(".building-parameters-room").css({display:"flex"});break;case"4":$(".building-parameters-office-area").css({display:"flex"});break;case"5":$(".building-parameters-separate-building").css({display:"flex"});break;case"6":$(".building-parameters-ozs-сomplex").css({display:"flex"});break;case"7":$(".test-7").css({display:"flex"});break;case"8":$(".test-8").css({display:"flex"});break;case"9":$(".test-9").css({display:"flex"});break;case"10":$(".test-10").css({display:"flex"});break;case"11":$(".test-11").css({display:"flex"});break;case"12":$(".test-12").css({display:"flex"});break;default:console.log("Фильтр не настроен")}blockFilterAndShadow.fadeOut("slow")}function quickSearch(e){var s=$(".quick-search");e.preventDefault(),s.css({display:"block"}),$(".closeQuickSearch").on("click",function(e){e.preventDefault(),s.fadeOut("slow")})}function moreAndLess(e){var s=$(".metro-location img");return valueButton[e](),imagesWidth>150?imagesWidth=150:imagesWidth<100?imagesWidth=100:void s.css({width:+imagesWidth+"%",height:+imagesWidth+"%"})}function closeFixedBlock(){$(".warning").css({display:"block"})}function yandexMap(){var e=$("#address");ymaps.ready(function(){var s=new ymaps.Map("map",{center:[55.76,37.64],zoom:10,controls:["fullscreenControl","typeSelector","geolocationControl","zoomControl"]});e.on("change",function(){ymaps.geocode(e.val()).then(function(e){var a=e.geoObjects.get(0);s.geoObjects.removeAll(),s.geoObjects.add(a);var o=a.properties.get("boundedBy"),t=a.geometry.getCoordinates(),n=a.getCountry(),i=a.getAdministrativeAreas()[0],r=a.getLocalities(),l=a.getThoroughfare(),c=a.getPremiseNumber();s.setBounds(o,{checkZoomRange:!0}),ymaps.geocode(MapController.prototype.coordinates,{kind:"district"}).then(function(e){var s,a;void 0===e.geoObjects.get(0)?s=void 0:(s=e.geoObjects.get(0),a=s.properties.getAll().name);var a=s.properties.getAll().name;if("region"in MapController.options){var o=$(MapController.options.region),t=$("#region");o.text(""),o.text(a),t.val(""),t.val(a)}}),console.log(" --- Начало --- "),console.log("Адрес: "+a.getAddressLine()),console.log("Страна: "+n),console.log("Регион: "+i),console.log("Город: "+r),console.log("Улица: "+l),console.log("Дом №: "+c),console.log("Координаты: "+t),console.log(" --- Конец --- ")})}),window.suggests=new ymaps.SuggestView("address",{width:300,offset:[0,4],results:20})})}var productSearch,showAndHideTopMenu,boolean,rootBlock,showFilter=!1,blockFilterAndShadow=$(".property-type-apartment-settings, .decorativeShadowBlock"),imagesWidth=130,valueButton={more:function(){return imagesWidth+=10},less:function(){return imagesWidth-=10}};$("select").styler({selectSearch:!0}),$(document).ready(function(){$(".bxslider").bxSlider({slideWidth:500,minSlides:1,maxSlides:2,moveSlides:2,slideMargin:10,pager:!1,auto:!0,infiniteLoop:!0}),$(".bxslider-partners").bxSlider({slideWidth:150,minSlides:1,maxSlides:5,moveSlides:2,slideMargin:50,pager:!1,auto:!0,pause:15e3,infiniteLoop:!0}),$(".apartments-wallpapers").bxSlider({slideWidth:70,minSlides:1,maxSlides:5,moveSlides:3,slideMargin:0,pager:!1,pause:2e4,auto:!0,infiniteLoop:!0})}),ymaps.ready(function(){new ymaps.SuggestView("address",{width:300,offset:[0,4],results:20})()}),$(".more-settings").on("click",function(){$(".show-more-settings").fadeIn("slow",$(this).css({display:"block"}))}),$(".select").on("click",function(e){var s=$(".jq-selectbox__trigger-arrow");e.preventDefault(),s.css({background:'url("../../template/images/pointer_top.png") center right 5px no-repeat',"background-size":"auto"}),setTimeout(function(){s.css({background:'url("../../template/images/pointer_bottom.png") center right 5px no-repeat',"background-size":"auto"})},5e3)}),$("#form").on("submit",function(e){e.preventDefault();var s=$(this).serialize();$.ajax({type:"POST",url:"/search",data:s,success:function(e){console.log("Собрынные данные - ",e)},error:function(){console.log("Ошибка отправки")}})}),$(function(){var e=$("#amountBefore"),s=$("#amountAfter"),a=$("#amountBeforeBy"),o=$("#amountAfterBy"),t=$("#amountBeforeSearch"),n=$("#amountAfterSearch");e.val("75"),s.val("20000"),a.val("75"),o.val("20000"),t.val("75"),n.val("20000"),$("#slider-range").slider({range:!0,min:0,max:2e7,values:[75,1e4],slide:function(a,o){e.val(o.values[0]),s.val(o.values[1])}}),$("#slider-range-buy").slider({range:!0,min:0,max:2e7,values:[75,1e4],slide:function(e,s){a.val(s.values[0]),o.val(s.values[1])}}),$("#slider-range-search").slider({range:!0,min:0,max:2e7,values:[75,1e4],slide:function(e,s){t.val(s.values[0]),n.val(s.values[1])}}),e.slider({values:0}),s.slider({values:1}),a.slider({values:0}),o.slider({values:1}),t.slider({values:0}),n.slider({values:1})}),ymaps.ready(function(){new ymaps.Map("ymap",{center:[55.451332,37.369336],zoom:10,controls:["fullscreenControl","typeSelector","geolocationControl","zoomControl"]});window.suggests=new ymaps.SuggestView("suggest",{width:300,offset:[0,4],results:20})});