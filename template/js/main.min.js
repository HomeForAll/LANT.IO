"use strict";function formatState(e){var s=$('<span><a class="branch-line"></a>'+e.text+"</span>"),n=s.find("a");return"0"===e.id&&n.css({background:"orange"}),"1"===e.id&&n.css({background:"red"}),"2"===e.id&&n.css({background:"blue"}),"3"===e.id&&n.css({background:"silver"}),"4"===e.id&&n.css({background:"yellowgreen"}),e.id?s:e.text}function choiceBlock(e){if(!rootBlock)return!1;var s=$(".big-search-menu"),n=$(".big-search-menu-tenancy"),o=$("#blockToRent"),t=$("#Buy"),a=$(".search-menu-apartment");"toRent"===e?(o.css({background:"#5e9152"}).find("a").css({color:"#fff"}),t.css({background:"none"}).find("a").css({color:"#898989"}),s.css({display:"block"}),n.css({display:"none"})):(o.css({background:"none"}).find("a").css({color:"#898989"}),t.css({background:"#5e9152"}).find("a").css({color:"#fff"}),a.css({display:"none"}),s.css({display:"none"}),n.css({display:"block"}))}function showBigSearch(){var e=$(".big-search a i"),s=$(".big-search"),n=$(".search-menu-apartment"),o=$(".big-search-menu"),t=$(".big-search-menu-tenancy");return rootBlock=!0,choiceBlock(),n.css({display:"none"}),productSearch=!productSearch,productSearch?(e.remove(),s.html('<i class="fa fa-angle-left" aria-hidden="true"></i><a>Простой поиск</a>'),o.css({display:"block"}),t.css({display:"none"}),n.css({display:"none"}),rootBlock=!0,productSearch=!0):(e.remove(),s.html('<a>Расширенный поиск</a><i class="fa fa-angle-right" aria-hidden="true"></i>'),n.css({display:"block"}),o.css({display:"none"}),t.css({display:"none"}),rootBlock=!1,productSearch=!1)}function showTopMenuAndSearch(){var e=$(".user ul");showAndHideTopMenu=!showAndHideTopMenu,showAndHideTopMenu?(e.css({display:"block"}),showAndHideTopMenu=!0):(e.css({display:"none"}),showAndHideTopMenu=!1)}function filterOptionsApartments(){var e=$(".property-type-apartment-settings");e.css({display:"block"}),setTimeout(function(){e.css({display:"none"})},2500)}function filterOptions(){var e=$(".showBigOptions");e.css({display:"block"}),setTimeout(function(){e.css({display:"none"})},5e3)}function apartmentSettings(){var e=$(".apartment-settings");e.css({display:"block"}),setTimeout(function(){e.css({display:"none"})},1e4)}function appearanceofTheApartment(){var e=$(".appearance-of-the-apartment");e.css({display:"block"}),setTimeout(function(){e.css({display:"none"})},1e4)}function appearanceOfTheBuilding(){var e=$(".appearance-of-the-build");e.css({display:"block"}),setTimeout(function(){e.css({display:"none"})},1e4)}function allFilterBlocks(e){switch(e){case"searchMetroMainBlock":var s=$(".search-metro-main-block");s.css({display:"block"}),$(".closeSearchMetro").on("click",function(){s.hide("slow",function(){$(this).css({display:"none"}),$(".decorativeShadowBlock").css({display:"none"})}),event.preventDefault()});break;case"appearanceOfTheApartment":var n=$(".appearance-of-the-apartment");n.css({display:"block"}),setTimeout(function(){n.hide()},1e4);break;case"buildingParametersFilter":var o=$(".building-parameters-filter");o.css({display:"block"}),$(".close-building-parameters-filter").on("click",function(){s.hide("slow",function(){$(this).css({display:"none"}),$(".decorativeShadowBlock").css({display:"none"})}),event.preventDefault()}),setTimeout(function(){o.hide()},1e4);break;case"historySearch":var t=$(".history-search");t.css({display:"block"}),setTimeout(function(){t.css({display:"none"}),$(".decorativeShadowBlock").css({display:"none"})},1e4);break;default:console.log("Фильтр не найден")}}function filter1(){var e=$(".building-parameters-apartment");$(".property-type-apartment-settings").hide(),$(".building-parameters").css({display:"none"}),e.show(),setTimeout(function(){e.css({display:"none"})},15e3)}function filter2(){var e=$(".building-parameters-home");$(".property-type-apartment-settings").hide(),$(".building-parameters").css({display:"none"}),e.show(),setTimeout(function(){e.css({display:"none"})},15e3)}function filter3(){var e=$(".building-parameters-room");$(".property-type-apartment-settings").hide(),$(".building-parameters").css({display:"none"}),e.show(),setTimeout(function(){e.css({display:"none"})},15e3)}function filter4(){var e=$(".building-parameters-office-area");$(".property-type-apartment-settings").hide(),$(".building-parameters").css({display:"none"}),e.show(),setTimeout(function(){e.css({display:"none"})},15e3)}function filter5(){var e=$(".building-parameters-separate-building");$(".property-type-apartment-settings").hide(),$(".building-parameters").css({display:"none"}),e.show(),setTimeout(function(){e.css({display:"none"})},15e3)}function filter6(){var e=$(".building-parameters-ozs-сomplex");$(".property-type-apartment-settings").hide(),$(".building-parameters").css({display:"none"}),e.show(),setTimeout(function(){e.css({display:"none"})},15e3)}function attachment(){var e=$(".attachments");e.css({display:"block"}),setTimeout(function(){e.css({display:"none"})},1e4)}function quickSearch(){var e=$(".quick-search");e.css({display:"block"}),setTimeout(function(){e.css({display:"none"})},1e4)}function shadowBlock(){$(".decorativeShadowBlock").css({display:"none"})}function closePointer(){$(".select2-selection--single, .pointer").css({background:'url("../../template/images/pointer_bottom.png") right 5px center no-repeat',"background-size":"auto"})}function moreAndLess(e){var s=$(".metro-location img");return valueButton[e](),imagesWidth>150?imagesWidth=150:imagesWidth<100?imagesWidth=100:void s.css({width:+imagesWidth+"%"})}function closeFixedBlock(){$(".warning").css({display:"block"})}function yandexMap(){var e=$("#address");$("#map").show(),$("#searchYandexMap").hide(),ymaps.ready(function(){var s=new ymaps.Map("map",{center:[55.76,37.64],zoom:10,controls:["fullscreenControl","typeSelector","geolocationControl","zoomControl"]});e.on("change",function(){ymaps.geocode(e.val()).then(function(e){var n=e.geoObjects.get(0);s.geoObjects.removeAll(),s.geoObjects.add(n);var o=n.properties.get("boundedBy"),t=n.geometry.getCoordinates(),a=n.getCountry(),i=n.getAdministrativeAreas()[0],r=n.getLocalities(),c=n.getThoroughfare(),l=n.getPremiseNumber();s.setBounds(o,{checkZoomRange:!0}),ymaps.geocode(MapController.prototype.coordinates,{kind:"district"}).then(function(e){var s,n;void 0===e.geoObjects.get(0)?s=void 0:(s=e.geoObjects.get(0),n=s.properties.getAll().name);var n=s.properties.getAll().name;if("region"in MapController.options){var o=$(MapController.options.region),t=$("#region");o.text(""),o.text(n),t.val(""),t.val(n)}}),console.log(" --- Начало --- "),console.log("Адрес: "+n.getAddressLine()),console.log("Страна: "+a),console.log("Регион: "+i),console.log("Город: "+r),console.log("Улица: "+c),console.log("Дом №: "+l),console.log("Координаты: "+t),console.log(" --- Конец --- ")})}),window.suggests=new ymaps.SuggestView("address",{width:300,offset:[0,4],results:20})})}var productSearch,showAndHideTopMenu,boolean,rootBlock=!1,imagesWidth=130,valueButton={more:function(){return imagesWidth+=10},less:function(){return imagesWidth-=10}};$(document).ready(function(){$(".bxslider").bxSlider({slideWidth:500,minSlides:1,maxSlides:2,moveSlides:2,slideMargin:10,pager:!1,auto:!0,infiniteLoop:!0})}),$(document).ready(function(){$(".bxslider-partners").bxSlider({slideWidth:150,minSlides:1,maxSlides:5,moveSlides:2,slideMargin:50,pager:!1,auto:!0,pause:15e3,infiniteLoop:!0})}),$(".select2-selection--single, .pointer").on("click",function(){$(this).css({background:'url("../../template/images/pointer_top.png") right 5px center no-repeat',"background-size":"auto"}),setTimeout(function(){closePointer()},4500)}),ymaps.ready(function(){new ymaps.Map("ymap",{center:[55.451332,37.369336],zoom:10,controls:["fullscreenControl","typeSelector","geolocationControl","zoomControl"]});window.suggests=new ymaps.SuggestView("suggest",{width:300,offset:[0,4],results:20})}),$("#form").on("submit",function(e){e.preventDefault();var s=$(this).serialize();$.ajax({type:"POST",url:"/search",data:s,success:function(e){console.log("Собрынные данные - ",e)},error:function(e){console.log("Ошибка отправки",e)}})}),$(function(){var e=$("#amountBefore"),s=$("#amountAfter"),n=$("#amountBeforeBuy"),o=$("#amountAfterBuy");e.val("20000"),s.val("20000"),n.val("20000"),o.val("20000"),$("#slider-range").slider({range:!0,min:2e4,max:2e7,values:[75,300],slide:function(n,o){e.val(o.values[0]),s.val(o.values[1])}}),$("#slider-range-buy").slider({range:!0,min:2e4,max:2e7,values:[75,300],slide:function(e,s){n.val(s.values[0]),o.val(s.values[1])}}),$("#amount").val(e.slider("values",0)+s.slider("values",1)),$("#amount-buy").val(n.slider("values",0)+o.slider("values",1))});